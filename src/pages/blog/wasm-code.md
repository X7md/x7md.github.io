---
title: "ÙƒÙŠÙ ØªØ¹Ù…Ù„ ÙˆÙŠØ¨ Ø£Ø³Ù…Ø¨Ù„ÙŠØŸ"
layout: "@layouts/blog.astro"
image: /images/webassembly.jpg
link: /blog/in-deep-webassembly-(simplify)
draft: true
date: '2023/04/08'
about: {
    "@type": ["Thing", "SoftwareApplication"],
    "applicationSubCategory": "https://www.wikidata.org/wiki/Q837330",
    "applicationCategory": "DeveloperApplication",
    "name": "WebAssembly",
    alternateName: ["ÙˆÙŠØ¨ Ø£Ø³Ù…Ø¨Ù„ÙŠ", "ØªØ¬Ù…ÙŠØ¹ Ø§Ù„ÙˆÙŠØ¨"], 
    description: "Ø´ÙØ±Ø© Ø¨Ø§ÙŠØª Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø±ØŒ ØªØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª Ø£Ùˆ Ø¹Ù„Ù‰ Ø¨ÙŠØ¦Ø© ØªØ´ØºÙŠÙ„ ÙˆÙŠØ¨ Ø§Ø³Ù…Ø¨Ù„ÙŠ",
    url: "https://webassembly.org/",
    "offers": {
        "@type": "Offer",
        "price": "0"
    },
    review: {
        {
      "@type": "Review",
      "author": {
        "@id": "https://x7md.net/about-me/#identity"
      },
      "reviewRating": {
        "@type": "Rating",
        "reviewRating": {
            "@type": "Rating",
            "ratingValue": "5"
        }
      }
    },
    }
}
# dateModified: '2022/05/02'
desc: 'Ù…Ø«Ø§Ù„ Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ "Hello World" Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆÙŠØ¨ Ø§Ø³Ù…Ø¨Ù„ÙŠ.'
keyword: ["wasm", "WebAssembly"]
tags: ["WebAssembly"]
---

ÙÙŠ [ØªØ¯ÙˆÙŠÙ†Ø© Ø³Ø§Ø¨Ù‚Ø©](/blog/webassmbly) Ø³Ø¨Ù‚ ÙˆØ£Ù† Ù‚Ù…Øª Ø¨Ø´Ø±Ø­ Ù…Ø¨Ø³Ø· Ù„ÙˆÙŠØ¨ Ø£Ø³Ù…Ø¨Ù„ÙŠ... ÙˆÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØªØ¯ÙˆÙŠÙ†Ø© Ø§Ù„Ù‚ØµÙŠØ±Ø© Ø³Ø£Ø´Ø±Ø­ ÙƒÙŠÙ ØªØ¹Ù…Ù„ ÙˆÙŠØ¨ Ø¨Ø£Ø³Ù…Ø¨Ù„ÙŠ Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø³Ø·.

## ÙƒÙŠÙ ÙŠØªÙ… ØªÙ†ÙÙŠØ° ÙˆÙŠØ¨ Ø£Ø³Ù…Ø¨Ù„ÙŠØŸ
> Ø³Ù†Ù‚ÙˆÙ… Ø¨Ù‡Ù†Ø¯Ø³Ø© Ø¹ÙƒØ³ÙŠØ© Ø¨Ø³ÙŠØ·Ø©ØŒ Ù„ÙƒÙˆØ¯ ÙˆÙŠØ¨ Ø§Ø³Ù…Ø¨Ù„ÙŠ Ù…ÙØªØ±Ø¬Ù… Ù…Ù† c.
> ÙˆØ³Ù†Ù‚ÙˆÙ… Ø¨Ù…Ø­Ø§ÙˆÙ„Ø© ÙÙ‡Ù…Ù‡ Ø¹Ø¨Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯ÙˆØ§Øª [WebAssembly Binary Toolkit (WABT)](https://github.com/WebAssembly/wabt/releases).
> <br /> ØªØ³ØªØ·ÙŠØ¹ ØªØ­Ù…ÙŠÙ„Ù‡Ø§ Ù„ØªÙ‚ÙˆÙ… Ø¨ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø£Ù…Ø± Ø¨Ù†ÙØ³ÙƒØŒ ÙˆØ£ÙŠØ¶Ù‹Ø§ Ø³ÙˆÙ Ù†Ø³ØªØ®Ø¯Ù… Ø£Ø¯Ø§Ø© [hexyl](https://github.com/sharkdp/hexyl) Ù„Ø¥Ø³ØªØ¹Ø±Ø§Ø¶ Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨Ø§ÙŠÙ†Ø±ÙŠ.

Ø­ÙŠÙ†Ù…Ø§ Ù†Ø­ÙˆÙ„ ÙƒÙˆØ¯ `c`:
```c
int main() { 
  return "Hello World";
}
```

ÙƒÙ…Ø§ Ù†Ø¹Ø±ÙØŒ Ù…Ù„ÙØ§Øª `wasm` Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù† Ù…Ù„Ù Ø¨Ø§ÙŠÙ†Ø±ÙŠ `binary file`
ÙÙŠÙ‡ Ø´ÙØ±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„ØªÙŠ Ø³ÙˆÙ ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§...

Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ø³ØªÙƒØ´Ù Ø£ÙƒÙˆØ¯ Ù…Ù„Ù `demo.wasm`:
```asm
asm``wasi_unstablefd_writememory_start
AA6AA6AAAAAhello world
```

Ø¬Ù…ÙŠÙ„ Ø¬Ø¯Ù‹Ø§ØŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ Ù…ÙÙ‡ÙˆÙ… Ù„Ø£Ù†Ùƒ ØªØ³ØªØ¹Ø±Ø¶ ØµÙŠØºØ© Ø¨Ø§ÙŠÙ†Ø±ÙŠ Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ù†ØµÙˆØµØŒ Ù„Ø°Ù„Ùƒ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø§ØªØ¬ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù…Ù† Ù…Ù„Ù Ø¨Ø§ÙŠÙ†Ø±ÙŠ Ø¥Ø°Ù‹Ø§ Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ø¬Ø±Ø¨ 
Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø´ÙƒÙ„ ØµÙŠØºØ© hexadecimal Ø±Ù‚Ù…ÙŠØ© Ø¹Ø¨Ø± Ø£Ø¯Ø§Ø© `hexyl`:

```powershell
PS C:\Users\x7md\Downloads> C:\hexyl\hexyl.exe .\demo.wasm
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚00000000â”‚ 00 61 73 6d 01 00 00 00 â”Š 01 0c 02 60 04 7f 7f 7f â”‚â‹„asmâ€¢â‹„â‹„â‹„â”Šâ€¢_â€¢`â€¢â€¢â€¢â€¢â”‚
â”‚00000010â”‚ 7f 01 7f 60 00 00 02 1a â”Š 01 0d 77 61 73 69 5f 75 â”‚â€¢â€¢â€¢`â‹„â‹„â€¢â€¢â”Šâ€¢_wasi_uâ”‚
â”‚00000020â”‚ 6e 73 74 61 62 6c 65 08 â”Š 66 64 5f 77 72 69 74 65 â”‚nstableâ€¢â”Šfd_writeâ”‚
â”‚00000030â”‚ 00 00 03 02 01 01 05 03 â”Š 01 00 01 07 13 02 06 6d â”‚â‹„â‹„â€¢â€¢â€¢â€¢â€¢â€¢â”Šâ€¢â‹„â€¢â€¢â€¢â€¢â€¢mâ”‚
â”‚00000040â”‚ 65 6d 6f 72 79 02 00 06 â”Š 5f 73 74 61 72 74 00 01 â”‚emoryâ€¢â‹„â€¢â”Š_startâ‹„â€¢â”‚
â”‚00000050â”‚ 0a 1d 01 1b 00 41 00 41 â”Š 08 36 02 00 41 04 41 0c â”‚_â€¢â€¢â€¢â‹„Aâ‹„Aâ”Šâ€¢6â€¢â‹„Aâ€¢A_â”‚
â”‚00000060â”‚ 36 02 00 41 01 41 00 41 â”Š 01 41 14 10 00 1a 0b 0b â”‚6â€¢â‹„Aâ€¢Aâ‹„Aâ”Šâ€¢Aâ€¢â€¢â‹„â€¢â€¢â€¢â”‚
â”‚00000070â”‚ 12 01 00 41 08 0b 0c 68 â”Š 65 6c 6c 6f 20 77 6f 72 â”‚â€¢â€¢â‹„Aâ€¢â€¢_hâ”Šello worâ”‚
â”‚00000080â”‚ 6c 64 0a                â”Š                         â”‚ld_     â”Š        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
Ø¬Ù…ÙŠÙ„ØŒ Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø³Øª Ø¹Ø´Ø±ÙŠØ© ÙˆÙ†Ø¶Ø¹Ù‡Ø§ ÙÙŠ Ù…ØµÙÙˆÙØ©...

> Ù…Ù„Ø­ÙˆØ¸Ø©: ÙÙŠ Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª Ù†Ø³ØªØ·ÙŠØ¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø§Ø¯Ø¦Ø© `0x` Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ø¯ Ø§Ù„Ø³Øª Ø¹Ø´Ø±ÙŠ.

```js
const wasmByteCodeAsHex = [0x00, 0x61, 0x73, 0x6d, 0x01, 0x00,
    0x00, 0x00, 0x7f, 0x01, 0x7f, 0x60,
    0x00, 0x00, 0x02, 0x1a, 0x6e, 0x73,
    0x74, 0x61, 0x62, 0x6c, 0x65, 0x08,
    0x00, 0x00, 0x03, 0x02, 0x01, 0x01,
    0x05, 0x03, 0x65, 0x6d, 0x6f, 0x72,
    0x79, 0x02, 0x00, 0x06, 0x0a, 0x1d,
    0x01, 0x1b, 0x00, 0x41, 0x00, 0x41,
    0x36, 0x02, 0x00, 0x41, 0x01, 0x41,
    0x00, 0x41, 0x12, 0x01, 0x00, 0x41,
    0x08, 0x0b, 0x0c, 0x68, 0x6c, 0x64,
    0x0a, 0x01, 0x0c, 0x02, 0x60, 0x04,
    0x7f, 0x7f, 0x7f, 0x01, 0x0d, 0x77,
    0x61, 0x73, 0x69, 0x5f, 0x75, 0x66,
    0x64, 0x5f, 0x77, 0x72, 0x69, 0x74,
    0x65, 0x01, 0x00, 0x01, 0x07, 0x13,
    0x02, 0x06, 0x6d, 0x5f, 0x73, 0x74,
    0x61, 0x72, 0x74, 0x00, 0x01, 0x08,
    0x36, 0x02, 0x00, 0x41, 0x04, 0x41,
    0x0c, 0x01, 0x41, 0x14, 0x10, 0x00,
    0x1a, 0x0b, 0x0b, 0x65, 0x6c, 0x6c,
    0x6f, 0x20, 0x77, 0x6f, 0x72]
```

Ø­Ø³Ù†Ù‹Ø§ Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ø¨Ø¯Ø£ Ø¨Ø£ÙˆÙ„ Ø£Ø±Ø¨Ø¹ Ø®Ø§Ù†Ø§Øª ÙÙŠ Ù…ØµÙÙˆÙØªÙ†Ø§ Ù…Ù† Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø³Øª Ø¹Ø´Ø±ÙŠØ©...
Ø¨Ø­Ø³Ø¨ Ù…Ø¹Ø§ÙŠÙŠØ± ÙˆÙŠØ¨ Ø£Ø³Ù…Ø¨Ù„ÙŠ ØªØ¹Ø¨Ø± Ø£ÙˆÙ„ Ø£Ø±Ø¨Ø¹ Ø®Ø§Ù†Ø§Øª Ù…Ù† Ù…Ù„Ù Ø¨Ø§ÙŠÙ†Ø±ÙŠ ÙˆÙŠØ¨ Ø£Ø³Ù…Ø¨Ù„ÙŠ Ø¹Ù†
Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø­Ø±ÙŠ [(The magic number)](https://webassembly.github.io/spec/core/binary/modules.html#binary-module)ØŒ Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù† `null-terminated string` ØªÙ„ÙŠÙ‡ Ø«Ù„Ø§Ø« Ø£Ø­Ø±Ù `asm`.

Ù†Ø³ØªØ·ÙŠØ¹ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø°Ù„Ùƒ Ø¨ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø³Øª Ø¹Ø´Ø±ÙŠØ© Ø¥Ù„Ù‰ Ù†Øµ Ø¹Ø¨Ø± Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª Ù…Ù† Ø®Ù„Ø§Ù„ `TextDecoder`:
```js
> new TextDecoder().decode(new Uint8Array([0x00, 0x61, 0x73, 0x6d]))
'\x00asm'
```
ÙˆØªÙ„ÙŠÙ‡Ø§ Ø£Ø±Ø¨Ø¹ Ø®Ø§Ù†Ø§Øª Ø£Ø®Ø±Ù‰ ÙˆÙ‡ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥ØµØ¯Ø§Ø± ÙˆÙŠØ¨ Ø§Ø³Ù…Ø¨Ù„ÙŠ Ù…ÙƒØªÙˆØ¨Ø© Ø¹Ù„Ù‰ Ù‡ÙŠØ¦Ø© `little-endian 32-bit int`
Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ø³ØªØ¹Ø±Ø¶Ù‡Ø§:

```js
> // Converting 32-bit unsigned little endian to integer in javascript
> // https://stackoverflow.com/a/38594231
> const hexToBuffer = new Uint8Array([0x01, 0x00, 0x00, 0x00]).buffer
> //(Webassmbly Version) as little-endian 32-bit int
> new Uint32Array(hexToBuffer)[0]
1
```

ÙˆÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ù„Ù Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„ØªØ´ØºÙŠÙ„Ù‡ Ø£Ùˆ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ù„Ù Ù‡Ùˆ ÙˆØ­Ø¯Ø© ÙˆÙŠØ¨ Ø£Ø³Ù…Ø¨Ù„ÙŠ.

ÙˆÙŠÙ„ÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø«Ù…Ø§Ù† Ø®Ø§Ù†Ø§Øª ÙÙŠ Ù…ØµÙÙˆÙØ© Ø£Ù‚Ø³Ø§Ù… ØªÙ…Ø«Ù„ ÙˆØ­Ø¯Ø© ÙˆÙŠØ¨ Ø£Ø³Ù…Ø¨Ù„ÙŠ:

![ÙˆØ­Ø¯Ø§Øª ÙˆÙŠØ¨ Ø£Ø³Ù…Ø¨Ù„ÙŠØŒ Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª ÙˆØ§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± (Webassembly Spec)](/images/wasm-sections.png)

Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø¯ Ø£Ø¯ÙˆØ§Øª `WABT`
Ù„Ù†Ø­ÙˆÙ„ ØµÙŠØºØ© Ø§Ù„Ø¨Ø§ÙŠÙ†Ø±ÙŠ Ø¥Ù„Ù‰ ØµÙŠØºØ© Ù†ØµÙŠØ© `wat`.
ÙˆÙ†Ø³ØªØ¹Ø±Ø¶ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…:

```powershell
PS C:\Users\x7md\Downloads> .\wabt-1.0.32-windows\wabt-1.0.32\bin\wasm2wat.exe .\demo.wasm
```
```
(module
  (type (;0;) (func (param i32 i32 i32 i32) (result i32)))
  (type (;1;) (func))
  (import "wasi_unstable" "fd_write" (func (;0;) (type 0)))
  (func (;1;) (type 1)
    i32.const 0
    i32.const 8
    i32.store
    i32.const 4
    i32.const 12
    i32.store
    i32.const 1
    i32.const 0
    i32.const 1
    i32.const 20
    call 0
    drop)
  (memory (;0;) 1)
  (export "memory" (memory 0))
  (export "_start" (func 1))
  (data (;0;) (i32.const 8) "hello world\0a"))
```